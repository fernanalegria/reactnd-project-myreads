{"version":3,"sources":["utils/BooksAPI.js","utils/AppUtils.js","search/SearchInput.js","search/SearchBar.js","common/BookCover.js","common/BookShelfChanger.js","common/BookInterface.js","common/Book.js","search/SearchResults.js","search/SearchBooks.js","home/Header.js","home/BookShelf.js","home/ListShelves.js","common/AddButton.js","home/Home.js","App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","get","bookId","fetch","concat","then","res","json","data","book","update","shelf","id","method","Object","objectSpread","Content-Type","body","JSON","stringify","search","query","books","debounce","fn","time","timeout","_this","this","_arguments","arguments","clearTimeout","setTimeout","apply","SearchInput","state","handleChange","event","setState","target","value","props","react_default","a","createElement","className","type","placeholder","onChange","Component","SearchBar","Link","to","rootUrl","search_SearchInput","BookCover","coverURL","style","width","height","backgroundImage","BookShelfChanger","prevValue","onMove","disabled","bookShelves","map","key","title","BookInterface","common_BookCover","imageLinks","smallThumbnail","common_BookShelfChanger","Book","origin","_this$props","common_BookInterface","authors","join","SearchResults","common_Book","SearchBooks","results","BooksAPI","queryBooks","error","queryBook","selectedBook","selectedBooks","find","length","search_SearchBar","search_SearchResults","Header","BookShelf","ListShelves","booksByShelf","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","push","index","array","home_BookShelf","AddButton","Home","home_Header","home_ListShelves","common_AddButton","BooksApp","prevState","toConsumableArray","bookIndex","findIndex","bk","splice","_this2","_this3","Route","exact","path","render","home_Home","search_SearchBooks","__webpack_require__","d","__webpack_exports__","ReactDOM","BrowserRouter","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4394425e.chunk.js","sourcesContent":["const api = 'https://reactnd-books-api.udacity.com';\r\n\r\n// Generate a unique token for storing your bookshelf data on the backend server.\r\nlet token = localStorage.token;\r\nif (!token)\r\n  token = localStorage.token = Math.random()\r\n    .toString(36)\r\n    .substr(-8);\r\n\r\nconst headers = {\r\n  Accept: 'application/json',\r\n  Authorization: token\r\n};\r\n\r\nexport const get = bookId =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.book);\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.books);\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ shelf })\r\n  }).then(res => res.json());\r\n\r\nexport const search = query =>\r\n  fetch(`${api}/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ query })\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => data.books);\r\n","export const debounce = (fn, time) => {\r\n  let timeout;\r\n\r\n  return function() {\r\n    const functionCall = () => fn.apply(this, arguments);\r\n\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(functionCall, time);\r\n  };\r\n};\r\n","import React, { Component } from 'react';\r\nimport { debounce } from '../utils/AppUtils';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Search field that lets the user enter queries to find (new and existing) books\r\n */\r\nclass SearchInput extends Component {\r\n  static propTypes = {\r\n    search: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    query: ''\r\n  };\r\n\r\n  /**\r\n   * Updates the component's state and calls the API\r\n   * only if the elapsed time from the previous query is higher than 500ms\r\n   * @param {Event} event onChange event\r\n   */\r\n  handleChange = event => {\r\n    this.setState(\r\n      {\r\n        query: event.target.value\r\n      },\r\n      () => {\r\n        debounce(() => {\r\n          this.props.search(this.state.query);\r\n        }, 500)();\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"search-books-input-wrapper\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by title or author\"\r\n          value={this.state.query}\r\n          onChange={this.handleChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchInput;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SearchInput from './SearchInput';\r\nimport PropTypes from 'prop-types';\r\nimport { rootUrl } from '../index';\r\n\r\n/**\r\n * Search bar containing the search field, and also a back button that redirects to the main page\r\n */\r\nconst SearchBar = props => {\r\n  const { search } = props;\r\n  return (\r\n    <div className=\"search-books-bar\">\r\n      <Link to={rootUrl} className=\"close-search\">\r\n        Close\r\n      </Link>\r\n      <SearchInput search={search} />\r\n    </div>\r\n  );\r\n};\r\n\r\nSearchBar.propTypes = {\r\n  /** Function to query results from the API */\r\n  search: PropTypes.func.isRequired\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Book cover displayed in a thumbnail\r\n */\r\nconst BookCover = props => {\r\n  const { coverURL } = props;\r\n  const noCoverURL =\r\n    'data:image/jpeg;base64,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tjGaAHG+vDBbwm4k8u2YtAM/6sk549OaAHHUb4m6P2qTN2c3HP8ArOc80AJbahe20AgguZI4hKJgoPAcdG+vAoAs22vazbNK1vqM8ZmkMkm0/eY9SfegCG/1TUL9Al5dyzKG34Y/xYxn60APt9a1W3aJoL+aMwxmKMg/dQkHaPbgflQAsut6vLexXkmo3DXEOfLctymRg49M0ASSeItckkikk1O4Z4mLRknlSQRkfgTQBBqWralqSIl9ey3CocqHPQ0AUqACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKAP/Z';\r\n  return (\r\n    <div\r\n      className=\"book-cover\"\r\n      style={{\r\n        width: 128,\r\n        height: 193,\r\n        backgroundImage: `url(\"${coverURL ? coverURL : noCoverURL}\")`\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nBookCover.propTypes = {\r\n  /** URL hosting the cover thumbnail */\r\n  coverURL: PropTypes.string\r\n};\r\n\r\nexport default BookCover;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Picker to change add, remove or change books from one shelf to another\r\n */\r\nclass BookShelfChanger extends Component {\r\n  static propTypes = {\r\n    /** Array of the existing shelves to classify books */\r\n    bookShelves: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        value: PropTypes.string.isRequired,\r\n        title: PropTypes.string.isRequired\r\n      })\r\n    ).isRequired,\r\n    /** Bookshelf value */\r\n    shelf: PropTypes.string.isRequired,\r\n    /** Function to add book id */\r\n    onMove: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = {\r\n    value: this.props.shelf\r\n  };\r\n\r\n  /**\r\n   * Updates the component's state and calls onMove with the origin and target shelves.\r\n   * @param {Event} event onChange event\r\n   */\r\n  handleChange = event => {\r\n    const prevValue = this.state.value;\r\n    this.setState(\r\n      {\r\n        value: event.target.value\r\n      },\r\n      () => {\r\n        this.props.onMove(prevValue, this.state.value);\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"book-shelf-changer\">\r\n        <select value={this.state.value} onChange={this.handleChange}>\r\n          <option value=\"move\" disabled>\r\n            Move to...\r\n          </option>\r\n          {this.props.bookShelves.map(shelf => (\r\n            <option key={shelf.value} value={shelf.value}>\r\n              {shelf.title}\r\n            </option>\r\n          ))}\r\n          <option value=\"none\">None</option>\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookShelfChanger;\r\n","import React from 'react';\r\nimport BookCover from './BookCover';\r\nimport BookShelfChanger from './BookShelfChanger';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Contains the book cover and the picker that lets the user classify the book\r\n */\r\nconst BookInterface = props => {\r\n  const { book, bookShelves, onMove } = props;\r\n  return (\r\n    <div className=\"book-top\">\r\n      <BookCover\r\n        coverURL={book.imageLinks ? book.imageLinks.smallThumbnail : ''}\r\n      />\r\n      <BookShelfChanger\r\n        bookShelves={bookShelves}\r\n        shelf={book.shelf}\r\n        onMove={onMove}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nBookInterface.propTypes = {\r\n  /** Book object with all the necessary info about it */\r\n  book: PropTypes.shape({\r\n    title: PropTypes.string,\r\n    authors: PropTypes.arrayOf(PropTypes.string),\r\n    imageLinks: PropTypes.shape({\r\n      smallThumbnail: PropTypes.string\r\n    }),\r\n    id: PropTypes.string,\r\n    shelf: PropTypes.string.isRequired\r\n  }).isRequired,\r\n  /** Array of the existing shelves to classify books */\r\n  bookShelves: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      value: PropTypes.string.isRequired,\r\n      title: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  /** Function to add book id */\r\n  onMove: PropTypes.func.isRequired\r\n};\r\n\r\nexport default BookInterface;\r\n","import React, { Component } from 'react';\r\nimport BookInterface from './BookInterface';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Book entity, which contains its cover, title and authors and the classification picker\r\n */\r\nclass Book extends Component {\r\n  static propTypes = {\r\n    /** Book object with all the necessary info about it */\r\n    book: PropTypes.shape({\r\n      title: PropTypes.string.isRequired,\r\n      authors: PropTypes.arrayOf(PropTypes.string),\r\n      imageLinks: PropTypes.shape({\r\n        smallThumbnail: PropTypes.string\r\n      }),\r\n      id: PropTypes.string.isRequired,\r\n      shelf: PropTypes.string.isRequired\r\n    }).isRequired,\r\n    /** Array of the existing shelves to classify books */\r\n    bookShelves: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        value: PropTypes.string.isRequired,\r\n        title: PropTypes.string.isRequired\r\n      })\r\n    ).isRequired\r\n  };\r\n\r\n  /**\r\n   * Calls the callback function onMove with the incoming origin and target shelves and adds the book id\r\n   * @param  {string} origin\r\n   * @param  {string} target\r\n   */\r\n  onMove = (origin, target) => {\r\n    this.props.onMove(this.props.book.id, origin, target);\r\n  };\r\n\r\n  render() {\r\n    const { book, bookShelves } = this.props;\r\n    return (\r\n      <div className=\"book\">\r\n        <BookInterface\r\n          book={book}\r\n          bookShelves={bookShelves}\r\n          onMove={this.onMove}\r\n        />\r\n        <div className=\"book-title\">{book.title}</div>\r\n        <div className=\"book-authors\">\r\n          {book.authors ? book.authors.join(', ') : 'Unknown'}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Book;\r\n","import React from 'react';\r\nimport Book from '../common/Book';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Grid to display the result of querying the book database\r\n */\r\nconst SearchResults = props => {\r\n  const { books, bookShelves, onMove } = props;\r\n  return (\r\n    <div className=\"search-books-results\">\r\n      <ol className=\"books-grid\">\r\n        {books.map(book => (\r\n          <li key={book.id}>\r\n            <Book book={book} bookShelves={bookShelves} onMove={onMove} />\r\n          </li>\r\n        ))}\r\n      </ol>\r\n    </div>\r\n  );\r\n};\r\n\r\nSearchResults.propTypes = {\r\n  /** Array of the existing shelves to classify books */\r\n  bookShelves: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      value: PropTypes.string.isRequired,\r\n      title: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  /** Array of book objects,\r\n   * with all the necessary info to display and move them from one shelf to another \r\n   */\r\n  books: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      title: PropTypes.string.isRequired,\r\n      authors: PropTypes.arrayOf(PropTypes.string),\r\n      imageLinks: PropTypes.shape({\r\n        smallThumbnail: PropTypes.string\r\n      }),\r\n      id: PropTypes.string.isRequired,\r\n      shelf: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  /** Function to move books from one shelf to another */\r\n  onMove: PropTypes.func.isRequired\r\n};\r\n\r\nexport default SearchResults;\r\n","import React, { Component } from 'react';\r\nimport SearchBar from './SearchBar';\r\nimport SearchResults from './SearchResults';\r\nimport * as BooksAPI from '..//utils/BooksAPI';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Page to look for (new and existing) books\r\n */\r\nclass SearchBooks extends Component {\r\n  state = {\r\n    results: []\r\n  };\r\n\r\n  /**\r\n   * Send the query typed by the user to the API and refreshes the state with the new results\r\n   * @param  {string} query\r\n   */\r\n  search = query => {\r\n    if (query) {\r\n      BooksAPI.search(query).then(queryBooks => {\r\n        if (queryBooks.error) {\r\n          this.setState({\r\n            results: []\r\n          });\r\n        } else {\r\n          const results = queryBooks.map(queryBook => {\r\n            const selectedBook = this.props.selectedBooks.find(\r\n              book => book.id === queryBook.id\r\n            );\r\n            queryBook.shelf = selectedBook ? selectedBook.shelf : 'none';\r\n            return queryBook;\r\n          });\r\n          this.setState({\r\n            results\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      this.setState({\r\n        results: []\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={`search-books ${\r\n          this.state.results.length === 0 ? 'empty-results' : ''\r\n        }`}\r\n      >\r\n        <SearchBar search={this.search} />\r\n        <SearchResults\r\n          books={this.state.results}\r\n          bookShelves={this.props.bookShelves}\r\n          onMove={this.props.onMove}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBooks.propTypes = {\r\n  /** Array of the existing shelves to classify books */\r\n  bookShelves: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      value: PropTypes.string.isRequired,\r\n      title: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  /** Array of already classified book objects */\r\n  selectedBooks: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      title: PropTypes.string,\r\n      authors: PropTypes.arrayOf(PropTypes.string),\r\n      imageLinks: PropTypes.shape({\r\n        smallThumbnail: PropTypes.string\r\n      }),\r\n      id: PropTypes.string.isRequired,\r\n      shelf: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  /** Function to move books from one shelf to another */\r\n  onMove: PropTypes.func.isRequired\r\n};\r\n\r\nexport default SearchBooks;\r\n","import React from 'react';\r\n\r\n/**\r\n * Main page header with the app title\r\n */\r\nconst Header = () => (\r\n  <div className=\"list-books-title\">\r\n    <h1>MyReads</h1>\r\n  </div>\r\n);\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport Book from '../common/Book';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Shelf containing books from a specific category\r\n */\r\nconst BookShelf = props => {\r\n  const { title, bookShelves, books, onMove } = props;\r\n\r\n  return (\r\n    <div className=\"bookshelf\">\r\n      <h2 className=\"bookshelf-title\">{title}</h2>\r\n      <div className=\"bookshelf-books\">\r\n        <ol className=\"books-grid\">\r\n          {books.map(book => (\r\n            <li key={book.id}>\r\n              <Book book={book} bookShelves={bookShelves} onMove={onMove} />\r\n            </li>\r\n          ))}\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nBookShelf.propTypes = {\r\n  /** Bookshelf title */\r\n  title: PropTypes.string.isRequired,\r\n  /** Array of the existing shelves to classify books */\r\n  bookShelves: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      value: PropTypes.string.isRequired,\r\n      title: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  /** Array of book objects from a specific shelf,\r\n   * with all the necessary info to display and move them from one shelf to another \r\n   */\r\n  books: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      title: PropTypes.string.isRequired,\r\n      authors: PropTypes.arrayOf(PropTypes.string),\r\n      imageLinks: PropTypes.shape({\r\n        smallThumbnail: PropTypes.string\r\n      }),\r\n      id: PropTypes.string.isRequired,\r\n      shelf: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  /** Function to move books from one shelf to another */\r\n  onMove: PropTypes.func.isRequired\r\n};\r\n\r\nexport default BookShelf;\r\n","import React from 'react';\r\nimport BookShelf from './BookShelf';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * List of shelves where the user can classify books\r\n */\r\nconst ListShelves = props => {\r\n  const { bookShelves, books, onMove } = props;\r\n  const booksByShelf = {};\r\n  for (let shelf of bookShelves) {\r\n    booksByShelf[shelf.value] = [];\r\n  }\r\n  for (let book of books) {\r\n    booksByShelf[book.shelf].push(book);\r\n  }\r\n\r\n  return (\r\n    <div className=\"list-books-content\">\r\n      <div>\r\n        {bookShelves.map((shelf, index, array) => (\r\n          <BookShelf\r\n            key={shelf.value}\r\n            title={shelf.title}\r\n            bookShelves={array}\r\n            books={booksByShelf[shelf.value]}\r\n            onMove={onMove}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nListShelves.propTypes = {\r\n  /** Array of the existing shelves to classify books */\r\n  bookShelves: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      value: PropTypes.string.isRequired,\r\n      title: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  /** Array of book objects,\r\n   * with all the necessary info to display and move them from one shelf to another \r\n   */\r\n  books: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      title: PropTypes.string.isRequired,\r\n      authors: PropTypes.arrayOf(PropTypes.string),\r\n      imageLinks: PropTypes.shape({\r\n        smallThumbnail: PropTypes.string\r\n      }),\r\n      id: PropTypes.string.isRequired,\r\n      shelf: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  /** Function to move books from one shelf to another */\r\n  onMove: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ListShelves;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { rootUrl } from '../index';\r\n\r\n/**\r\n * Button that redirects to search page\r\n */\r\nconst AddButton = () => (\r\n  <div className=\"open-search\">\r\n    <Link to={`${rootUrl}/search`}>Add a book</Link>\r\n  </div>\r\n);\r\n\r\nexport default AddButton;\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport ListShelves from './ListShelves';\r\nimport AddButton from '../common/AddButton';\r\nimport PropTypes from 'prop-types';\r\n\r\n/**\r\n * Main page\r\n */\r\nconst Home = props => {\r\n  const { bookShelves, books, onMove } = props;\r\n  return (\r\n    <div className={`list-books ${books.length === 0 ? 'empty-results' : ''}`}>\r\n      <Header />\r\n      <ListShelves bookShelves={bookShelves} books={books} onMove={onMove} />\r\n      <AddButton />\r\n    </div>\r\n  );\r\n};\r\n\r\nHome.propTypes = {\r\n  /** Array of the existing shelves to classify books */\r\n  bookShelves: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      value: PropTypes.string.isRequired,\r\n      title: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  /** Array of book objects,\r\n   * with all the necessary info to display and move them from one shelf to another \r\n   */\r\n  books: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      title: PropTypes.string.isRequired,\r\n      authors: PropTypes.arrayOf(PropTypes.string),\r\n      imageLinks: PropTypes.shape({\r\n        smallThumbnail: PropTypes.string\r\n      }),\r\n      id: PropTypes.string.isRequired,\r\n      shelf: PropTypes.string.isRequired\r\n    })\r\n  ).isRequired,\r\n  /** Function to move books from one shelf to another */\r\n  onMove: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport * as BooksAPI from './utils/BooksAPI';\r\nimport './App.css';\r\nimport { Route } from 'react-router-dom';\r\nimport SearchBooks from './search/SearchBooks';\r\nimport Home from './home/Home';\r\nimport { rootUrl } from './index';\r\n\r\nconst bookShelves = [\r\n  {\r\n    value: 'currentlyReading',\r\n    title: 'Currently Reading'\r\n  },\r\n  {\r\n    value: 'wantToRead',\r\n    title: 'Want to Read'\r\n  },\r\n  {\r\n    value: 'read',\r\n    title: 'Read'\r\n  }\r\n];\r\n\r\nclass BooksApp extends Component {\r\n  state = {\r\n    books: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    BooksAPI.getAll().then(books => {\r\n      this.setState({\r\n        books\r\n      });\r\n    });\r\n  }\r\n\r\n  onMove = (id, origin, target) => {\r\n    BooksAPI.update({ id }, target).then(() => {\r\n      if (origin === 'none') {\r\n        BooksAPI.get(id).then(book => {\r\n          this.setState(prevState => ({\r\n            books: [...prevState.books, book]\r\n          }));\r\n        });\r\n      } else {\r\n        let books = [...this.state.books];\r\n        if (target === 'none') {\r\n          const bookIndex = books.findIndex(bk => bk.id === id);\r\n          books.splice(bookIndex, 1);\r\n        } else {\r\n          const book = books.find(bk => bk.id === id);\r\n          book.shelf = target;\r\n        }\r\n        this.setState({\r\n          books\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { books } = this.state;\r\n    return (\r\n      <div className=\"app\">\r\n        <Route\r\n          exact\r\n          path={rootUrl}\r\n          render={() => (\r\n            <Home\r\n              bookShelves={bookShelves}\r\n              books={books}\r\n              onMove={this.onMove}\r\n            />\r\n          )}\r\n        />\r\n        <Route\r\n          path={`${rootUrl}/search`}\r\n          render={() => (\r\n            <SearchBooks\r\n              bookShelves={bookShelves}\r\n              selectedBooks={books}\r\n              onMove={this.onMove}\r\n            />\r\n          )}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BooksApp;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nexport const rootUrl = '/reactnd-project-myreads';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}